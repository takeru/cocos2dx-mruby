{"name":"cocos2dx-mruby","tagline":"mruby binding for cocos2d-x","body":"\r\nDownload cocos2d-x-2.2.3.zip, and unzip.\r\n\r\nCreate new cocos2dx cpp project.\r\n```\r\ntkrmb2:~% cd ~/proj/cocos2d-x-2.2.3/tools/project-creator\r\n\r\ntkrmb2:~/proj/.../tools/project-creator% ./create_project.py -project HelloRuby -package com.example.helloruby -language cpp\r\nproj.ios        : Done!\r\nproj.android        : Done!\r\nproj.win32      : Done!\r\nproj.winrt      : Done!\r\nproj.wp8        : Done!\r\nproj.mac        : Done!\r\nproj.blackberry     : Done!\r\nproj.linux      : Done!\r\nproj.marmalade      : Done!\r\nproj.tizen      : Done!\r\nproj.wp8-xaml       : Done!\r\nNew project has been created in this path: /Users/takeru/proj/cocos2d-x-2.2.3/projects/HelloRuby\r\nHave Fun!\r\n\r\ntkrmb2:~/proj/.../tools/project-creator% cd /Users/takeru/proj/cocos2d-x-2.2.3/projects/HelloRuby\r\n\r\ntkrmb2:~/proj/.../projects/HelloRuby% open ./proj.ios/HelloRuby.xcodeproj\r\n```\r\n\r\nClone and Build MRuby.framework\r\nhttps://github.com/carsonmcdonald/ios-ruby-embedded#build\r\n```\r\ntkrmb2:~/proj% git clone git://github.com/carsonmcdonald/ios-ruby-embedded.git\r\nCloning into 'ios-ruby-embedded'...\r\nremote: Reusing existing pack: 304, done.\r\nremote: Counting objects: 3, done.\r\nremote: Compressing objects: 100% (3/3), done.\r\nremote: Total 307 (delta 0), reused 0 (delta 0)\r\nReceiving objects: 100% (307/307), 40.97 KiB | 0 bytes/s, done.\r\nResolving deltas: 100% (139/139), done.\r\nChecking connectivity... done.\r\n\r\ntkrmb2:~/proj% cd ios-ruby-embedded\r\n\r\ntkrmb2:~/proj/ios-ruby-embedded% git submodule init\r\nSubmodule 'mruby' (https://github.com/mruby/mruby.git) registered for path 'mruby'\r\n\r\ntkrmb2:~/proj/ios-ruby-embedded% git submodule update\r\nCloning into 'mruby'...\r\nremote: Reusing existing pack: 21866, done.\r\nremote: Counting objects: 45, done.\r\nremote: Compressing objects: 100% (39/39), done.\r\nremote: Total 21911 (delta 15), reused 0 (delta 0)\r\nReceiving objects: 100% (21911/21911), 5.97 MiB | 1.05 MiB/s, done.\r\nResolving deltas: 100% (13118/13118), done.\r\nChecking connectivity... done.\r\nSubmodule path 'mruby': checked out '873fae9f4505a5f2b5146f969917e8b083269f36'\r\n\r\ntkrmb2:~/proj/ios-ruby-embedded% rake    ## (maybe to fix Rakefile '7.0' to '7.1')\r\n(...snip...)\r\n\r\ntkrmb2:~/proj/ios-ruby-embedded% ls -dl MRuby.framework\r\ndrwxr-xr-x  6 takeru  staff  204  3 21 00:05 MRuby.framework\r\n```\r\n\r\nInstall MRuby.framework\r\nhttps://github.com/carsonmcdonald/ios-ruby-embedded#install\r\n\r\n[img]\r\n\r\n\r\nClone cocos2dx-mruby and generate stub files.\r\n```\r\ntkrmb2:~/proj% git clone git@github.com:takeru/cocos2dx-mruby.git\r\n\r\ntkrmb2:~/proj% cd cocos2dx-mruby\r\n\r\ntkrmb2:~/proj/cocos2dx-mruby% rm generated/*\r\n\r\ntkrmb2:~/proj/cocos2dx-mruby% rake\r\n\r\ntkrmb2:~/proj/cocos2dx-mruby% ls generated\r\nMrubyBox2D.cpp      MrubyBox2D.h        MrubyCocos2d.cpp    MrubyCocos2d.h\r\nMrubyCocosDenshion.cpp  MrubyCocosDenshion.h\r\n```\r\n\r\nAdd *.cpp/h files into Classes.\r\n\r\n[img]\r\n\r\n\r\nEdit AppDelegate.cpp\r\n\r\n```\r\n#include \"CCMrubyEngine.h\"\r\n\r\n  CCMrubyEngine* pEngine = CCMrubyEngine::defaultEngine();\r\n  CCScriptEngineManager::sharedManager()->setScriptEngine(pEngine);\r\n\r\n  std::string path = CCFileUtils::sharedFileUtils()->fullPathForFilename(\"hello.rb\");\r\n  pEngine->executeScriptFile(path.c_str());\r\n```\r\n[img]\r\n\r\n\r\n\r\nPut hello.rb into Resources.\r\n```\r\n# hello.rb\r\nputs 'hello!!'\r\ninclude Cocos2d\r\nd = CCDirector.sharedDirector\r\nwin_size = d.getWinSize\r\nsprite = CCSprite.create(\"Icon-114.png\")\r\nsprite.setPosition(win_size.width/2, win_size.height/2)\r\nscene = CCScene.create\r\nscene.addChild(sprite)\r\nd.runWithScene(scene)\r\n```\r\n\r\nAnd, click Run button.\r\n\r\n[img]\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}